---
permalink: choose_controller_upgrade_procedure.html 
sidebar: sidebar 
keywords:  
summary: 'In generale, il modo in cui si aggiorna l"hardware del controller dipende dai modelli di piattaforma dei nodi originali. Puoi eseguire l"upgrade spostando aggregati o volumi storage (procedure senza interruzioni) o spostando lo storage (procedura che provoca interruzioni).' 
---
= Scegliere la procedura di aggiornamento dell'hardware del controller
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
In generale, il modo in cui si aggiorna l'hardware del controller dipende dai modelli di piattaforma dei nodi originali. Puoi eseguire l'upgrade ricollocando gli aggregati o spostando i volumi (entrambe le procedure senza interruzioni) o spostando lo storage (una procedura che provoca interruzioni). Se si dispone di diverse versioni di ONTAP in esecuzione sui nodi originale e nuovo, potrebbe essere necessario eseguire un aggiornamento software prima di iniziare l'aggiornamento hardware.


NOTE: Gli aggiornamenti ASA a un sistema sostitutivo ASA R2 non sono supportati. Per informazioni sulla migrazione dei dati da un sistema ASA a un sistema ASA R2, vedere link:https://docs.netapp.com/us-en/asa-r2/install-setup/set-up-data-access.html["Abilitare l'accesso ai dati dagli host SAN al sistema di storage ASA R2"^].



== Quale procedura di aggiornamento dovrei usare?

Per selezionare la procedura di aggiornamento appropriata, rivedere tutte le domande elencate nella tabella seguente.

[cols="30,70"]
|===
| Chiediti… | Se la tua risposta è sì, puoi fare questo... 


| Sto utilizzando una versione software diversa sui nodi originali e su quelli nuovi? | Aggiornare la versione ONTAP sui nodi originali alla versione più elevata supportata.  Se possibile, i nuovi nodi devono supportare la versione ONTAP in esecuzione sui nodi originali.  Se ciò non è possibile,link:https://docs.netapp.com/us-en/ontap/upgrade/prepare.html["Aggiornare la versione ONTAP"^] sui nodi originali alla versione più elevata supportata.  La differenza di versione tra i nodi originali e quelli nuovi non può essere maggiore di quattro.  Ad esempio, sono supportati ONTAP 9.8 e 9.12.1; tuttavia, ONTAP 9.8 e 9.13.1 non sono supportati. link:https://docs.netapp.com/us-en/ontap/upgrade/concept_mixed_version_requirements.html["Scopri di più sui cluster ONTAP con versioni miste"^]. 


| Voglio effettuare un aggiornamento dirompente? | link:upgrade/upgrade-decide-to-use-this-guide.html["Eseguire l'upgrade spostando lo storage"]. Ciò richiede un nuovo sistema dotato di un proprio spazio di archiviazione e di ripiani in cui archiviare i dati del sistema originale.  Per alcuni aggiornamenti è possibile la conversione da un ripiano per controller. 


| Voglio eseguire un aggiornamento non distruttivo?  a| 
Effettua l'aggiornamento utilizzando uno dei seguenti metodi:

* link:upgrade/upgrade-decide-to-use-this-guide.html["Spostare i volumi"]
+
Per farlo è necessario unire i nuovi nodi, spostare i volumi e i LIF nei nuovi nodi e disunire i nodi che si desidera rimuovere dal cluster. Se si sta aggiornando un cluster switchless a due nodi, convertirlo in un cluster switching-attached utilizzando una coppia di switch del cluster prima di aggiungere nuovi nodi.

* link:upgrade-arl/index.html["Utilizzare la rilocazione aggregata"]
+
L'ARL è una procedura sostitutiva.  Non è necessario espandere e ridurre il cluster con i nuovi nodi, il che è vantaggioso per i cluster switchless a due nodi.  Spostare i dati riposizionando gli aggregati è più veloce che copiare i dati tra gli aggregati quando si spostano i volumi.





| Ho un sistema modulare?  *Nota*: in un sistema modulare, il controller non ha dischi interni e tutto lo spazio di archiviazione è in ripiani collegati esternamente. | link:upgrade-arl/index.html["Aggiornamento mediante trasferimento degli aggregati"]. 


| Ho un sistema integrato e voglio aggiornarlo spostando i volumi?  *Nota*: in un sistema integrato, il controller ha dischi interni e la memoria è contenuta nello chassis del controller e in ripiani fissati esternamente.  I ripiani esterni servono per ampliare lo spazio di archiviazione e potrebbero non essere inclusi in tutte le configurazioni del sistema.  a| 
. link:https://hwu.netapp.com/DetailViews/Home.aspx["Verifica che il tuo sistema sia supportato"^].
. link:upgrade/upgrade-decide-to-use-this-guide.html["Eseguire l'upgrade spostando i volumi"].




| Ho un sistema integrato e voglio aggiornarlo sostituendo solo il modulo controller, mantenendo lo chassis e i dischi esistenti? | link:upgrade-arl-auto-affa900/index.html["Aggiorna utilizzando ARL, mantenendo lo stesso chassis e gli stessi dischi"]. 


| Sto trasferendo un SVM? | Fare riferimento alink:https://docs.netapp.com/us-en/ontap/svm-migrate/index.html#svm-migration-workflow["Panoramica sulla mobilità dei dati SVM"^] . 


| Sto aggiornando una configurazione MetroCluster ? | Fare riferimento alink:https://docs.netapp.com/us-en/ontap-metrocluster/upgrade/concept_choosing_an_upgrade_method_mcc.html["Aggiornare, aggiornare o espandere la configurazione di MetroCluster"^] . 


| Sto sostituendo un singolo componente? | Fare riferimento allink:https://docs.netapp.com/us-en/ontap-systems/index.html["Documentazione dei sistemi hardware ONTAP"^] e individuare il volantino dell'unità sostituibile sul campo (FRU) per quel componente. 
|===


== Esempio: aggiornamento da FAS9500 a FAS90

Questo esempio mostra le possibili risposte per un aggiornamento del controller FAS9500 a FAS90.

[cols="30,70"]
|===
| Domanda | Esempio di risposta 


| Sto utilizzando una versione software diversa sui nodi originali e su quelli nuovi? | No. Sia FAS9500 che FAS90 eseguono ONTAP 9.15.1. 


| Voglio eseguire un aggiornamento dirompente? | No. Voglio mantenere online il mio ambiente di produzione durante l'aggiornamento. 


| Voglio eseguire un aggiornamento non distruttivo? | Sì. A seconda che il mio sistema sia modulare o integrato, posso effettuare l'aggiornamento spostando i volumi o utilizzando la rilocazione aggregata (ARL). 


| Ho un sistema modulare? | Sì. Il FAS9500 è un sistema modulare con ripiani di stoccaggio esterni.  Posso effettuare l'aggiornamento utilizzando ARL. 


| Ho un sistema integrato e voglio aggiornarlo spostando i volumi? | No. Il FAS9500 è un sistema modulare, quindi questo non si applica. 


| Ho un sistema integrato e voglio aggiornarlo sostituendo solo il modulo controller, mantenendo lo chassis e i dischi esistenti? | No. Il FAS9500 è un sistema modulare, quindi questo non si applica. 


| Sto trasferendo un SVM? | No. Sto aggiornando l'hardware mantenendo le stesse SVM. 


| Sto aggiornando una configurazione MetroCluster ? | No. Questo è un cluster di coppie HA standard. 


| Sto sostituendo un singolo componente? | No. Sto aggiornando l'intero sistema di controllo. 
|===
*Percorso di aggiornamento consigliato per questo esempio:*link:upgrade-arl/index.html["Aggiornare utilizzando ARL"] perché FAS9500 è un sistema modulare e ARL fornisce un metodo di aggiornamento non distruttivo.
